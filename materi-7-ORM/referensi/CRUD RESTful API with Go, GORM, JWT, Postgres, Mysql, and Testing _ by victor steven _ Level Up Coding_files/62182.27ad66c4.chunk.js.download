(self.webpackChunklite=self.webpackChunklite||[]).push([[62182],{62182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PostSidebarContent:()=>z,PostSidebar:()=>q,PostSidebar_customStyleSheet:()=>ee,PostSidebar_collection:()=>te,PostSidebar_post:()=>ne});var o=n(28655),r=n.n(o),i=n(50008),a=n.n(i),l=n(63038),c=n.n(l),s=n(59713),u=n.n(s),d=n(71439),m=n(67294),p=n(28859),f=n(84783),h=n(22669),g=n(43689),v=n(50493),E=n(86948),b=n(47713),x=n(21356),w=n(97297),S=n(78886),y=n(49925),I=n(34793),_=n(49544),R=n(29043),k=n(72393),C=n(76532),N=n(51684),T=n(83021),B=n(10697),L=n(34535),P=n(31001),F=n(42933),H=n(82318),D=n(98024),A=n(18579),M=n(51512),O=n(6688),U=n(67297),W=n(89349),G=n(21146),J=n(27952),X=n(61598);function V(){var e=r()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    collection {\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n    }\n    creator {\n      bio\n      name\n      ...FollowAndSubscribeButtons_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...PublisherSidebarFollows_user\n      ...SidebarProfilePic_user\n      ...PublisherFollowingCount_publisher\n      ...UserSubscribeButton_user\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...UserFollowButton_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}function $(){var e=r()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return $=function(){return e},e}function j(){var e=r()(["\n  fragment PostSidebar_customStyleSheet on CustomStyleSheet {\n    ...PublisherSidebarFollows_customStyleSheet\n  }\n  ","\n"]);return j=function(){return e},e}var z=function(e){var t,n=e.customStyleSheet,o=e.maxHeight,r=void 0===o?0:o,i=e.post,a=e.showProfilePic,l=e.visible,c=m.useContext(k.f).openSidebar,s=m.useRef(null),u=(0,O.I)(),d=(0,U.v9)((function(e){return e.navigation.currentLocation})),p=(0,y.GT)(i.collection||i.creator)?m.createElement(m.Fragment,null,a&&!!i.creator&&m.createElement(I.$,{user:i.creator}),m.createElement(Q,{post:i,customStyleSheet:n,isVisible:l})):i.collection&&m.createElement(K,{post:i,currentLocation:d});return m.createElement(m.Fragment,null,i.isShortform?p:m.createElement(m.Fragment,null,m.createElement("div",{ref:s},r?m.createElement("div",{className:u((0,T.JS)(r))},p):p,m.createElement(F.x,{display:"flex",flexDirection:"row",borderTop:"BASE_LIGHTER",paddingTop:"32px",justifyContent:"space-evenly",alignItems:"center",width:"100%"},m.createElement(F.x,{display:"flex",marginRight:"20px"},m.createElement(x.S,{post:i,buttonStyle:"SUBTLE_PADDED",susiEntry:"clap_sidebar",hasDialog:!0})),m.createElement(M.cW,{source:{postId:i.id},extendSource:!0},m.createElement(F.x,{marginRight:"20px",marginTop:"2px"},m.createElement(R.h,{trackingData:{postId:i.id},responsesCount:null===(t=i.postResponses)||void 0===t?void 0:t.count,handleClick:c||function(){},allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,svgSize:"S",countStylesOverride:{paddingLeft:"6px"}})),m.createElement(F.x,{marginTop:"1px"},m.createElement(b.o,{post:i,susiEntry:"bookmark_sidebar"}))))),m.createElement(v.o5,{post:i,mode:"SIDEBAR",heightRef:s})))},Y={wordBreak:"break-word"},Z=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(g.Je,"px + 54px + 14px)")},u()(t,(0,W.nk)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},q=m.forwardRef((function(e,t){var n=e.isClearOfBounds,o=e.isOnPage,r=e.customStyleSheet,i=e.post,l=e.extraWide,s=(0,O.I)(),u=m.useContext(p.u6).watchedBounds,d=m.useState(o||!1),f=c()(d,2),h=f[0],g=f[1],v=m.useState(0),E=c()(v,2),b=E[0],x=E[1],w=m.useState(n||!1),S=c()(w,2),y=S[0],I=S[1],R=m.useRef(null),k=m.useRef(null),C=function(e,t){var n,o,r,i,a=null===(n=e.get("byline"))||void 0===n||null===(o=n.ref)||void 0===o?void 0:o.current,l=null===(r=e.get("ghost-track"))||void 0===r||null===(i=r.ref)||void 0===i?void 0:i.current,c=l&&(0,G.L6)(l).top+window.scrollY-window.innerHeight||0;if(a&&l){var s=a.offsetTop+a.offsetHeight+10;return s-c}}(u);m.useEffect((0,T.T6)(u,g),[u]);var B=m.useCallback((function(){var e;!function(e,t,n,o,r){if(e.current){var i=t.current,a=["image","bgimage","footer","byline","title","header"],l=(0,N.b2)(e.current,n,a,r),c=!i||(0,N.b2)(i,n,a,r);o(l&&c)}}(R,k,u,I,{threshold:10});var t=(0,T.Ui)(b,C,null==R||null===(e=R.current)||void 0===e?void 0:e.clientHeight);t!==b&&x(t)}),[u,b,C]);m.useEffect((function(){B()}),[]);var L="object"===a()(t)?t:null;m.useEffect((0,N.hE)(B,null==L?void 0:L.current),[B,null==L?void 0:L.current]);var P=y&&h;return m.createElement(M.cW,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},m.createElement(N.HX,{testId:"post-sidebar",isFixed:!0,scrollableRef:t,sidebarRef:R,topOffset:C,visible:P,extraWide:l},m.createElement(z,{customStyleSheet:r,maxHeight:b,post:i,visible:P})),m.createElement("div",{className:s(Z(P)),ref:k},m.createElement(_._U,{postId:i.id,isVisible:P})))})),K=function(e){var t=e.post,n=e.currentLocation,o=(0,O.I)(),r=(0,A.n)({name:"heading",scale:"XS",fontWeight:"NORMAL"}),i=(0,U.v9)((function(e){return e.config.authDomain})),a=t.collection;return a?m.createElement(F.x,{marginBottom:"20px"},(null==a?void 0:a.name)&&m.createElement(H.r,{href:(0,J.WGd)(a,n,i)},m.createElement("h2",{className:o([r,Y])},a.name)),(a.tagline||a.description)&&m.createElement(F.x,{paddingTop:"2px",paddingBottom:"20px"},m.createElement(D.F,{scale:"M",clamp:6},a.tagline||a.description)),m.createElement(f.Fp,{buttonSize:"REGULAR",collection:a,post:t,susiEntry:"follow_sidebar"})):null},Q=function(e){var t=e.post,n=e.customStyleSheet,o=e.isVisible,r=(0,C.H)().value,i=(0,U.v9)((function(e){return e.config.authDomain})),a=(0,O.I)(),l=(0,A.n)({name:"heading",scale:"XS",fontWeight:"NORMAL"}),c=t.creator;if(!c||!c.name)return null;var s=m.createElement("h2",{className:a([l,Y])},c.name),u=c?m.createElement(H.r,{href:(0,J.AWr)(c,i)},s):s;return m.createElement(m.Fragment,null,m.createElement(F.x,{marginBottom:"20px"},m.createElement(F.x,{paddingBottom:"5px"},u),c.bio&&m.createElement(F.x,{paddingTop:"2px"},m.createElement(D.F,{scale:"M"},m.createElement(h.P,{wrapLinks:!0},c.bio))),(null==r?void 0:r.id)!==c.id&&m.createElement(M.cW,{source:{name:"post_sidebar",postId:t.id}},m.createElement(F.x,{display:"flex",paddingTop:"20px"},m.createElement(B.N,{creator:c,post:t,susiEntry:"follow_sidebar",showMembershipUpsellModal:!!t.collection,shouldHideTooltip:!o,isVisible:o})))),m.createElement(S.Lk.Provider,{value:{postId:t.id}},m.createElement(S.eB,{withBottomBorder:!0,publisher:c,customStyleSheet:n,isVisible:o})))},ee=(0,d.Ps)(j(),S.qy),te=(0,d.Ps)($(),f.Iq,X.nf),ne=(0,d.Ps)(V(),y.C5,te,L.i,E.z,f.b3,x.x,P.S$,v.tA,X.$m,S.FB,I.G,w.b5)},50493:(e,t,n)=>{"use strict";n.d(t,{o5:()=>_,tA:()=>S,tE:()=>y});var o=n(28655),r=n.n(o),i=n(71439),a=n(67294),l=n(4743),c=n(51684),s=n(82318),u=n(98024),d=n(6688),m={INLINE:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},SIDEBAR:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"".concat(c.ZR,"px"),":hover":{width:"200px"}}};function p(e){var t=(0,d.I)();return a.createElement("li",{className:t({overflow:"hidden"})},a.createElement(u.F,{scale:"M",color:"DARKER"},a.createElement(s.r,{href:"#".concat(e.destination),onClick:function(t){t.preventDefault(),function(e){var t=document.getElementById(e);if(t){var n=t.offsetTop-56;window.scrollTo({left:0,top:n,behavior:"smooth"}),window.history.pushState({},"","#".concat(e))}}(e.destination)},disableSourceParam:!0,noFollow:!0,inline:!0},a.createElement("div",{className:t(m[e.mode]),title:e.text},e.text))))}var f=n(7654),h=n(42933),g=n(86021),v=n(77180),E=n(14391),b=n(67122),x=n(25885);function w(){var e=r()(["\n  fragment TableOfContents_post on Post {\n    id\n    collection {\n      id\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          id\n          name\n          type\n          text\n        }\n      }\n    }\n  }\n"]);return w=function(){return e},e}var S=(0,i.Ps)(w()),y=function(e){return!!(e.collection&&e.collection.id&&["3ec9f38ac0bd","3f6ecf56618","8d6b8a439e32"].includes(e.collection.id))||["8135e6744d59","21f0e9818b3a"].includes(e.id)},I={INLINE:{display:{xs:"block",sm:"block",md:"block",lg:"block",xl:"none"},marginTop:"35px"},SIDEBAR:{display:{xs:"none",sm:"none",md:"none",lg:"none",xl:"block"},margin:"50px 0",fontSize:"16px",":hover":{width:"200px"}}},_=function(e){var t=e.post,n=e.mode,o=e.heightRef,r=(0,d.I)(),i=(0,v.F)().backgroundColor,c=function(e){var t=(e||{content:{bodyModel:{paragraphs:null}}}).content.bodyModel.paragraphs;if(!t)throw new Error("Expected post to have paragraphs.");var n=(0,l.LI)(t),o=t.filter((function(e){return function(e){switch(e){case E.NJ.H1:case E.NJ.H2:case E.NJ.H3:return!0}return!1}(e.type)}));return null!==n.titleIndex&&o.splice(0,1),o.length>1?o:[]}(t);if(!y(t)||null==c||!c.length)return null;var s,u,m=a.createElement(h.x,{overflow:"hidden",marginTop:"16px"},a.createElement("ol",{className:r({marginTop:"5px"})},c.map((function(e){return a.createElement(p,{key:"toc_".concat(e.name),text:e.text||"",destination:e.name||"",mode:n})})))),w=(0,x.n2)(i),S=function(e){return"rgba(".concat(w[0],", ").concat(w[1],", ").concat(w[2],", ").concat(e,")")};switch(n){case"INLINE":var _=a.createElement(g.Lh,{scale:"M",color:"LIGHTER"},a.createElement("div",{className:r({marginRight:"7px"})},"Jump To Section"));return a.createElement("div",{className:r(I[n])},a.createElement(h.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"10px"},a.createElement(f.$,{titleComponent:_,width:"auto",arrowFill:(0,b.Uy)(.54)},m)));case"SIDEBAR":return a.createElement("div",{className:r(I[n])},a.createElement(g.Lh,{scale:"S",color:"LIGHTER"},a.createElement("div",{className:r({whiteSpace:"nowrap"})},"Table of Contents")),a.createElement(h.x,{position:"relative"},a.createElement("div",{className:r((function(){return{background:"linear-gradient(".concat(S(1),",\n      ").concat(S(.5),",\n      ").concat(S(0),")"),width:"100%",height:"".concat(35,"px")}}))}),a.createElement("div",{className:r({overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"},height:(s=null!=o&&o.current?o.current.offsetHeight:0,u=Math.max("undefined"!=typeof window?window.innerHeight-s-106-100:150,150),"".concat(u,"px")),paddingBottom:"".concat(35,"px"),position:"relative",top:"-".concat(35,"px")})},m),a.createElement("div",{className:r((function(){return{background:"linear-gradient(".concat(S(0),",\n      ").concat(S(.5),",\n      ").concat(S(1),")"),position:"relative",width:"100%",height:"".concat(35,"px"),top:"-".concat(35,"px")}}))})));default:return null}}},47713:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var o=n(67294),r=n(46101),i=n(86948),a=n(76532),l=n(62181),c=n(33914),s=n(6688),u=n(14391),d=n(67297),m=n(353),p=n(27952),f=function(e){var t=e.post,n=e.susiEntry,f=t.id,h=t.visibility,g=(0,s.I)(),v=(0,d.v9)((function(e){return e.config.authDomain})),E=(0,a.H)(),b=E.value;return E.loading||h===u.Wn.UNLISTED?null:b?o.createElement(c._,{tooltipText:"Save",targetDistance:15},o.createElement(i.e,{post:t,susiEntry:n})):o.createElement(l.R9,{post:t,operation:"register",actionUrl:(0,p.XET)(v,f),susiEntry:n},o.createElement(m.Z,{className:g(r.K)}))}},7654:(e,t,n)=>{"use strict";n.d(t,{$:()=>p});var o=n(63038),r=n.n(o),i=n(67294),a=n(42933),l=n(37278),c=n(6688),s=n(8403),u=n(73004),d=n(51064),m=300,p=function(e){var t,n=e.children,o=e.title,p=e.titleComponent,f=e.width,h=e.arrowFill,g=null===(t=(0,s.Wd)("unfold"))||void 0===t?void 0:t.toLowerCase(),v=!!o&&g===o.toLowerCase(),E=(0,c.I)(),b=(0,d.O)(!1),x=r()(b,4),w=x[0],S=x[3],y=function(e){var t=i.useRef(null),n=i.useState("0px"),o=r()(n,2),a=o[0],l=o[1],c=i.useState(!1),s=r()(c,2),u=s[0],d=s[1];return i.useEffect((function(){var n=t.current;n&&(e?(l("".concat(n.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){l("auto"),d(!1)}),m)):"auto"===a&&(l("".concat(n.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){return l("0px")}),50),setTimeout((function(){return d(!1)}),m)))}),[e]),{height:a,isAnimating:u,ref:t}}(w),I=y.ref,_=y.height,R=y.isAnimating;return i.useEffect((function(){v&&S()}),[]),i.createElement(i.Fragment,null,i.createElement("button",{className:E({width:f||"100%",height:"100%",border:"none",textAlign:"left",outline:"none",cursor:"pointer",padding:"0px"}),onClick:S,disabled:R},i.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},p||i.createElement(l.X6,{scale:"XS"},o||""),i.createElement(u.Z,{className:E((function(e){return{transition:"".concat(m,"ms transform"),transform:w?"rotate(180deg)":"rotate(0)",fill:h||e.baseColor.fill.normal}}))}))),i.createElement("div",{className:E({transition:"".concat(m,"ms height"),height:_,overflow:!w||R?"hidden":"visible",opacity:w?1:0})},i.createElement("div",{ref:I,className:E({opacity:w?1:0,transition:"".concat(m,"ms opacity"),display:"flex",justifyContent:"space-between",flexDirection:"column",flexFlow:"wrap"})},n)))}},83021:(e,t,n)=>{"use strict";n.d(t,{T6:()=>o,JS:()=>r,Ui:()=>i});var o=function(e,t){return function(){var n=new IntersectionObserver((function(n){var o=e.get("ghost-track");if(o){var r=n.find((function(e){return e.target===o.ref.current}));r&&t(r.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},r=function(e){return{maxHeight:"".concat(e,"px"),overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"}}},i=function(e,t,n){var o;if(n&&null!==(o=window)&&void 0!==o&&o.innerHeight&&t){var r=window.innerHeight-t-80;if(e&&n<=r)return 0;if(r<=n)return Math.max(r,150)}return e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/62182.27ad66c4.chunk.js.map