(window.webpackJsonp=window.webpackJsonp||[]).push([[1,104],[,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"f",(function(){return w})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return R})),n.d(t,"h",(function(){return q})),n.d(t,"e",(function(){return H})),n.d(t,"g",(function(){return W.Modal})),n.d(t,"i",(function(){return V.a}));var r=n(12),o=n(0),a=n(1),i=n.n(a),c=n(2),l=n(8),u=n.n(l),s=n(7),d=["children","primary","icon","rounded","destructive","type","className","tooltip","onKeyUp"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=function(e){var t,n,r,a=e.children,i=e.primary,l=e.icon,s=e.rounded,h=e.destructive,m=e.type,v=void 0===m?"button":m,g=e.className,y=e.tooltip,O=e.onKeyUp,w=b(e,d),S=p(Object(c.j)(!1),2),j=S[0],x=S[1],E=u()("c-btn",(r=g,(n=g)in(t={"c-btn--primary":i,"c-btn--destructive":h,"c-btn--icon-left":l&&a,"c-btn--icon-alone":l&&!a,"crayons-tooltip__activator":y,"radius-full":s})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t));return Object(o.h)("button",f({type:v,className:E,onKeyUp:function(e){null===O||void 0===O||O(e),y&&x("Escape"===e.key)}},w),l&&Object(o.h)(H,{"aria-hidden":"true",focusable:"false",src:l,className:u()("c-btn__icon")}),a,y?Object(o.h)("span",{"data-testid":"tooltip",className:u()("crayons-tooltip__content",{"crayons-tooltip__suppressed":j})},y):null)};m.displayName="ButtonNew",m.propTypes={children:s.a,primary:i.a.bool,rounded:i.a.bool,destructive:i.a.bool,type:i.a.oneOf(["button","submit"]),className:i.a.string,tooltip:i.a.oneOfType([i.a.string,i.a.node]),onKeyUp:i.a.func,icon:i.a.ReactNode};var v=["children","href","variant","block","icon","rounded","className"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var w=function(e){var t,n=e.children,r=e.href,a=void 0===r?"#":r,i=e.variant,c=e.block,l=e.icon,s=e.rounded,d=e.className,f=O(e,v),p=u()("c-link",(y(t={},"c-link--".concat(i),i),y(t,"c-link--icon-left",l&&n),y(t,"c-link--icon-alone",l&&!n),y(t,"c-link--block",c),y(t,"radius-full",s),y(t,d,d),t));return Object(o.h)("a",g({href:a,className:p},f),l&&Object(o.h)(H,{src:l,"aria-hidden":"true",focusable:"false",className:u()("c-link__icon")}),n)};w.displayName="Link",w.propTypes={variant:i.a.oneOf(["default","branded"]),block:i.a.bool,rounded:i.a.bool,href:i.a.string.isRequired,className:i.a.string,children:s.a,icon:i.a.ReactNode};var S=["variant","className"];function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var C=function(e){var t,n=e.variant,r=void 0===n?"default":n,a=e.className,i=E(e,S),c=u()("c-cta",(x(t={},"c-cta--".concat(r),r),x(t,a,a),t));return Object(o.h)(w,j({block:!0,className:c},i))};C.displayName="CTA",C.propTypes={variant:i.a.oneOf(["default","branded"]),className:i.a.string};var k=function(e){var t=e.children;return Object(o.h)("div",{role:"presentation",className:"crayons-btn-group"},t)};k.displayName="ButtonGroup",k.propTypes={children:s.a};var I=n(24),N=["children","className","triggerButtonId","dropdownContentId","dropdownContentCloseButtonId","onOpen","onClose"];function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var z=function(e){var t=e.children,n=e.className,r=e.triggerButtonId,a=e.dropdownContentId,i=e.dropdownContentCloseButtonId,l=e.onOpen,u=void 0===l?function(){}:l,s=e.onClose,d=void 0===s?function(){}:s,f=_(e,N),p=P(Object(c.j)(!1),2),h=p[0],b=p[1];return Object(c.f)((function(){h||(Object(I.b)({triggerElementId:r,dropdownContentId:a,dropdownContentCloseButtonId:i,onOpen:u,onClose:d}),b(!0))}),[a,r,i,h,u,d]),Object(o.h)("div",A({id:a,className:"crayons-dropdown".concat(n&&n.length>0?" ".concat(n):"")},f),t)};z.defaultProps={className:void 0},z.displayName="Dropdown",z.propTypes={children:s.a.isRequired,className:i.a.string,triggerButtonId:i.a.string.isRequired,dropdownContentId:i.a.string.isRequired,dropdownContentCloseButtonId:i.a.string,onOpen:i.a.func,onClose:i.a.func};var M=n(5),R=function(e){var t=e.children,n=e.variant;return Object(o.h)("div",{className:"crayons-field".concat(n&&n.length>0?" crayons-field--".concat(n):"")},t)};R.displayName="FormField",R.defaultProps={variant:void 0},R.propTypes={children:M.c.isRequired,variant:i.a.oneOf(["radio","checkbox"])};var U=["id","value","name","className","checked","onClick"];function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var q=function(e){var t=e.id,n=e.value,r=e.name,a=e.className,i=e.checked,c=e.onClick,l=L(e,U);return Object(o.h)("input",B({id:t,value:n,name:r,className:"crayons-radio".concat(a&&a.length>0?" ".concat(a):""),checked:i,onClick:c,type:"radio"},l))};q.displayName="RadioButton",q.defaultProps={id:void 0,className:void 0,checked:!1,name:void 0},q.propTypes={id:i.a.string,value:i.a.string.isRequired,className:i.a.string,checked:i.a.bool,name:i.a.string,onClick:i.a.func.isRequired};var F=["src","native","className"];function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var H=function(e){var t,n,r,a=e.src,i=e.native,c=e.className,l=K(e,F);return Object(o.h)(a,D({className:u()("crayons-icon",(t={"crayons-icon--default":i},n=c,r=c,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},l))};H.displayName="Icon",H.propTypes={native:i.a.bool,className:i.a.string,src:i.a.node.isRequired};var W=n(30),V=n(31),$=n(23),J=function(e){var t=e.children,n=e.title,r=e.onClose,a=void 0===r?function(){}:r;return Object(o.h)("div",{className:"crayons-mobile-drawer"},Object(o.h)("div",{className:"crayons-mobile-drawer__overlay"}),Object(o.h)($.a,{clickOutsideDeactivates:!0,selector:".crayons-mobile-drawer__content",onDeactivate:a},Object(o.h)("div",{className:"crayons-mobile-drawer__content",role:"dialog","aria-modal":"true","aria-label":n},t)))};J.propTypes={children:M.c.isRequired,title:i.a.string.isRequired,onClose:i.a.func};i.a.oneOf([1,2,3,4,5,6]).isRequired,i.a.string.isRequired,i.a.arrayOf(i.a.shape({url:i.a.string,isCurrentPage:i.a.bool,displayName:i.a.string})).isRequired;n(33)},,function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i.a})),n.d(t,"b",(function(){return c.b})),n.d(t,"a",(function(){return c.a})),n.d(t,"d",(function(){return l}));var r=n(1),o=n.n(r),a=o.a.shape({id:o.a.string.isRequired,name:o.a.string.isRequired,profile_image_url:o.a.string.isRequired,summary:o.a.string.isRequired}),i=n(7),c=n(20),l=o.a.shape({tags:o.a.arrayOf(o.a.string).isRequired,onClick:o.a.func.isRequired,onKeyPress:o.a.func.isRequired})},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return g}));var r,o=n(2),a=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],i=function(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:a.map((function(e){return"".concat(e,":").concat(t.getPropertyValue(e))})).join(";"),paddingSize:r,borderSize:o,boxSizing:n}};function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e,t){var n,r=document.body.getBoundingClientRect(),o=e.getBoundingClientRect(),a=o.top-r.top-e.scrollTop,i=o.left-r.left-e.scrollLeft,c=document.createElement("div"),l=getComputedStyle(e),s=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(l);try{for(s.s();!(n=s.n()).done;){var d=n.value;c.style[d]=l[d]}}catch(m){s.e(m)}finally{s.f()}c.style.position="absolute",c.style.top="".concat(a,"px"),c.style.left="".concat(i,"px"),c.style.opacity=0;var f="INPUT"===e.tagName?e.value.replace(/ /g,"."):e.value;c.textContent=f.substr(0,t),"TEXTAREA"===e.tagName&&(c.style.height="auto"),"INPUT"===e.tagName&&(c.style.width="auto");var p=document.createElement("span");p.textContent=f.substr(t)||".",c.appendChild(p),document.body.appendChild(c);var h=p.offsetLeft,b=p.offsetTop;return document.body.removeChild(c),{x:i+h,y:a+b}},f=function(e){var t=e.selectionStart,n=e.value;if(0===t||""===n)return{isUserMention:!1,indexOfMentionStart:-1};var r=p({content:n,selectionIndex:t,character:"@",breakOnCharacters:[" ","","\n"]});return{isUserMention:-1!==r,indexOfMentionStart:r}},p=function e(t){var n=t.content,r=t.selectionIndex,o=t.character,a=t.breakOnCharacters,i=void 0===a?[]:a,c=n.charAt(r),l=n.charAt(r-1);return c===o?r:0===r||i.includes(l)?-1:e({content:n,selectionIndex:r-1,character:o,breakOnCharacters:i})},h=function e(t){var n=t.content,r=t.selectionIndex,o=t.character,a=t.breakOnCharacters,i=void 0===a?[]:a,c=n.charAt(r),l=n.charAt(r+1);return c===o?r:r<=n.length&&!i.includes(l)?e({content:n,selectionIndex:r+1,character:o,breakOnCharacters:i}):-1},b=function(e){var t=e.selectionStart,n=e.value;if(0===t)return 0;for(var r=0,o=t-1;o>=0&&"\n"===n.charAt(o);)r++,o--;return r},m=function(e){var t=e.selectionEnd,n=e.value;if(t===n.length)return 0;for(var r=0,o=t;o<n.length&&"\n"===n.charAt(o);)r++,o++;return r},v=function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return{textBeforeSelection:r.substring(0,t),textAfterSelection:r.substring(n,r.length),selectedText:r.substring(t,n)}},g=function(){var e=l(Object(o.j)(null),2),t=e[0],n=e[1],a=l(Object(o.j)(!1),2),u=a[0],s=a[1],d=l(Object(o.j)([]),2),f=d[0],p=d[1];return Object(o.d)((function(){if(t){var e=function(){var e=[t].concat(c(f)).map((function(e){return function(e){r||(r=document.createElement("textarea"),document.body.appendChild(r));var t=i(e),n=t.paddingSize,o=t.borderSize,a=t.boxSizing,c=t.sizingStyle;r.setAttribute("style","".concat(c,";").concat("\nmin-height:0 !important;\nmax-height:none !important;\nheight:0 !important;\nvisibility:hidden !important;\noverflow:hidden !important;\nposition:absolute !important;\nz-index:-1000 !important;\ntop:0 !important;\nright:0 !important\n")),r.value=e.value||e.placeholder||"x";var l=r.scrollHeight;return"border-box"===a?{height:l+o}:"content-box"===a?{height:l-n}:{height:l}}(e).height})),n=Math.max.apply(Math,c(e)),o="".concat(n,"px");[t].concat(c(f)).forEach((function(e){e.style["min-height"]=o,u&&(e.style["max-height"]=o)}))};return e(),t.addEventListener("input",e),function(){return t.removeEventListener("input",e)}}}),[t,f,u]),{setTextArea:n,setAdditionalElements:p,setConstrainToContentHeight:s}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n.n(r),a=o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node,o.a.object,o.a.arrayOf(o.a.object)])},,function(e,t,n){"use strict";n.r(t);var r=n(32);n.d(t,"addSnackbarItem",(function(){return r.b})),n.d(t,"Snackbar",(function(){return r.a}));var o=n(22);n.d(t,"snackbarItemProps",(function(){return o.b})),n.d(t,"SnackbarItem",(function(){return o.a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(2),o=n(1),a=n.n(o);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){if(e instanceof HTMLElement===!1)return!1;var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n||e.isContentEditable}var h=function(e,t,n,r){var o=n&&n.length>0?r["".concat(n.join("~"),"~").concat(e.code)]:r["".concat(t).concat(e.code)]||r["".concat(t).concat(e.key.toLowerCase())];return o?(o(e),[]):t||"Shift"===e.key?[]:[].concat(s(n),[e.code])},b={timeout:0};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object(r.j)(e),a=u(o,1),i=a[0],l=Object(r.j)([]),s=u(l,2),d=s[0],f=s[1],m=Object(r.j)(c(c({},b),n)),v=u(m,2),g=v[0],y=v[1];Object(r.d)((function(){var e={};"number"===typeof n.timeout&&(e.timeout=n.timeout),y(c(c({},b),e))}),[n.timeout]),Object(r.d)((function(){if(!(d.length<=0)){var e=window.setTimeout((function(){clearTimeout(e),f([])}),g.timeout);return function(){return clearTimeout(e)}}}),[d.length,g.timeout]),Object(r.d)((function(){if(i&&0!==Object.keys(i).length){var e=function(e){if(!e.defaultPrevented){var t=e.ctrlKey?"ctrl+":"",n=e.metaKey?"cmd+":"",r=e.altKey?"alt+":"",o=e.shiftKey?"shift+":"",a="".concat(t).concat(n).concat(r).concat(o);if(!(e.target instanceof Node&&p(e.target))||a){var c=h(e,a,d,i);f(c)}}};return t.addEventListener("keydown",e),function(){return t.removeEventListener("keydown",e)}}}),[d,i,t])}function v(e){return m(e.shortcuts,e.eventTarget,e.options),null}v.propTypes={shortcuts:a.a.object.isRequired,options:a.a.shape({timeout:a.a.number}),eventTarget:a.a.oneOfType([a.a.instanceOf(Element),a.a.instanceOf(Window)])},v.defaultProps={shortcuts:{},options:{},eventTarget:window}},,function(e,t,n){"use strict";var r=n(21);n.d(t,"a",(function(){return r.a}))},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"validateFileInputs",(function(){return s}));var r=Object.freeze({image:25,video:50}),o=["image"];function a(e,t){var n=e,r=document.createElement("div");r.style.color="red",r.innerHTML=t,r.classList.add("file-upload-error"),n.parentNode.append(r)}function i(e,t,n){var o=n.dataset.maxFileSizeMb,i=n.dataset.fileSizeErrorHandler,c=(e.size/1048576).toFixed(2),l=c<=(o=Number(o||r[t]));return l||function(e,t,n,r){if(t.value=null,e)e();else{var o="File size too large (".concat(n," MB).");r>=0&&(o+=" The limit is ".concat(r," MB.")),a(t,o)}}(i,n,c,o),l}function c(e,t,n){var r=n.dataset.permittedFileTypes;r&&(r=JSON.parse(r)),r=r||o;var i=n.dataset.fileTypeErrorHandler,c=r.includes(t);return c||function(e,t,n,r){t.value=null,e?e():a(t,"Invalid file format (".concat(n,"). Only ").concat(r.join(", ")," files are permitted."))}(i,n,t,r),c}function l(e,t){var n=t.dataset.maxFileNameLength;n=Number(n||250);var r=t.dataset.fileNameLengthErrorHandler,o=e.name.length<=n;return o||function(e,t,n){t.value=null,e?e():a(t,"File name is too long. It can't be longer than ".concat(n," characters."))}(r,t,n),o}function u(e){var t=!0;!function(e){var t=e.parentNode.querySelector("div.file-upload-error");t&&t.remove()}(e);for(var n=Array.from(e.files),r=0;r<n.length;r+=1){var o=n[r],a=o.type.split("/")[0];if(!i(o,a,e)){t=!1;break}if(!c(0,a,e)){t=!1;break}if(!l(o,e)){t=!1;break}}return t}function s(){for(var e=!0,t=document.querySelectorAll('input[type="file"]'),n=0;n<t.length;n+=1){if(!u(t[n])){e=!1;break}}return e}document.querySelectorAll('input[type="file"]').forEach((function(e){e.addEventListener("change",(function(){u(e)}))}))},,function(e,t,n){"use strict";function r(e){var t=e.element,n=e.offsetTop,r=void 0===n?0:n,o=e.allowPartialVisibility,a=void 0!==o&&o,i=t.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth,u=i.top<=c&&i.top>=r,s=i.right>=0&&i.right<=l,d=i.bottom>=r&&i.bottom<=c,f=i.left<=l&&i.left>=0,p=i.top<=r,h=i.bottom>=c;return a?(u||d||p&&h)&&(f||s):u&&d&&f&&s}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(2);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=Object.freeze({Small:640,Medium:768,Large:1024}),c=function(e){var t=window.matchMedia(e),n=o(Object(r.j)(!!t.matches),2),a=n[0],i=n[1];return Object(r.d)((function(){var e=function(){i(!!t.matches)};return t.addListener(e),function(){return t.removeListener(e)}})),a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(1),o=n.n(r),a=o.a.shape({body_text:o.a.arrayOf(o.a.string)}),i=o.a.shape({id:o.a.number.isRequired,title:o.a.string.isRequired,path:o.a.string.isRequired,cloudinary_video_url:o.a.string,video_duration_in_minutes:o.a.string,type_of:o.a.oneOf(["podcast_episodes"]),class_name:o.a.oneOf(["PodcastEpisode","User","Article"]),flare_tag:o.a.shape({name:o.a.string.isRequired,bg_color_hex:o.a.string,text_color_hex:o.a.string}),tag_list:o.a.arrayOf(o.a.string),cached_tag_list_array:o.a.arrayOf(o.a.string),podcast:o.a.shape({slug:o.a.string.isRequired,title:o.a.string.isRequired,image_url:o.a.string.isRequired}),user_id:o.a.number.isRequired,user:o.a.shape({username:o.a.string.isRequired,name:o.a.string.isRequired}),organization:o.a.shape({name:o.a.string.isRequired,profile_image_90:o.a.string.isRequired,slug:o.a.string.isRequired}),highlight:a,public_reactions_count:o.a.number,reactions_count:o.a.number,comments_count:o.a.number,reading_time:o.a.number})},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(0),o=n(2),a=n(1),i=n.n(a),c=n(5),l=["children","variant","tagName","inverted","contentType","size","className","icon","url","buttonType","disabled","onClick","onMouseOver","onMouseOut","onFocus","onBlur","onKeyUp","tabIndex","title","tooltip"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){var t=e.variant,n=e.className,r=e.contentType,o=e.size,a=e.inverted,i=e.disabled,c=e.tooltip,l="";return t&&t.length>0&&"primary"!==t&&(l+=" crayons-btn--".concat(t)),o&&o.length>0&&"default"!==o&&(l+=" crayons-btn--".concat(o)),r&&r.length>0&&"text"!==r&&(l+=" crayons-btn--".concat(r)),i&&(l+=" crayons-btn--disabled"),a&&(l+=" crayons-btn--inverted"),n&&n.length>0&&(l+=" ".concat(n)),c&&(l+=" crayons-tooltip__activator"),l}var h=function(e){var t=e.children,n=e.variant,a=void 0===n?"primary":n,i=e.tagName,c=e.inverted,d=e.contentType,h=e.size,b=e.className,m=e.icon,v=e.url,g=e.buttonType,y=e.disabled,O=e.onClick,w=e.onMouseOver,S=e.onMouseOut,j=e.onFocus,x=e.onBlur,E=e.onKeyUp,C=e.tabIndex,k=e.title,I=e.tooltip,N=f(e,l),A=s(Object(o.j)(!1),2),P=A[0],T=A[1],_=i,z=m,M="button"===i?{type:g,disabled:y}:{href:y?void 0:v};return Object(r.h)(_,u({className:"crayons-btn".concat(p({variant:a,size:h,contentType:d,className:b,icon:m,inverted:c,disabled:"a"===i&&y,children:t,tooltip:I})),onClick:O,onMouseOver:w,onMouseOut:S,onFocus:j,onBlur:x,onKeyUp:function(e){null===E||void 0===E||E(e),I&&T("Escape"===e.key)},tabIndex:C,title:k},M,N),"text"!==d&&"icon-right"!==d&&z&&Object(r.h)(z,null),("text"===d||"icon-left"===d||"icon-right"===d)&&t,"text"!==d&&"icon-right"===d&&z&&Object(r.h)(z,null),I?Object(r.h)("span",{className:"crayons-tooltip__content ".concat(P?"crayons-tooltip__suppressed":"")},I):null)};h.displayName="Button",h.defaultProps={className:void 0,icon:void 0,url:void 0,buttonType:"button",disabled:!1,inverted:!1,onClick:void 0,onMouseOver:void 0,onMouseOut:void 0,onFocus:void 0,onBlur:void 0,tabIndex:void 0,title:void 0,tagName:"button",size:"default",contentType:"text",variant:"primary"},h.propTypes={children:c.c,variant:i.a.oneOf(["primary","secondary","outlined","danger","ghost","ghost-brand","ghost-success","ghost-warning","ghost-danger"]),contentType:i.a.oneOf(["text","icon-left","icon-right","icon","icon-rounded"]).isRequired,inverted:i.a.bool,tagName:i.a.oneOf(["a","button"]).isRequired,className:i.a.string,icon:i.a.oneOfType([i.a.node,i.a.func]),url:i.a.string,buttonType:i.a.string,disabled:i.a.bool,size:i.a.oneOf(["default","s","l","xl"]).isRequired,onClick:i.a.func,onMouseOver:i.a.func,onMouseOut:i.a.func,onFocus:i.a.func,onBlur:i.a.func,tabIndex:i.a.number,title:i.a.string,tooltip:i.a.node}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(0),o=n(1),a=n.n(o),i=n(5),c=n(3),l={children:i.c.isRequired,actions:a.a.arrayOf(a.a.shape({message:a.a.string.isRequired,handler:a.a.func.isRequired,lifespan:a.a.number.isRequired}))},u=function(e){var t=e.message,n=e.actions,o=void 0===n?[]:n;return Object(r.h)("div",{className:"crayons-snackbar__item flex","data-testid":"snackbar"},Object(r.h)("div",{className:"crayons-snackbar__body",role:"alert"},t),Object(r.h)("div",{className:"crayons-snackbar__actions"},o.map((function(e){var t=e.text,n=e.handler;return Object(r.h)(c.a,{variant:"ghost-success",inverted:!0,onClick:n,key:t},t)}))))};u.displayName="SnackbarItem",u.propTypes=l.isRequired},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),o=n.n(r),a=n(0),i=n(2),c=n(39),l=n(5),u=n(10),s=function(e){var t=e.selector,n=e.children,r=e.onDeactivate,o=e.clickOutsideDeactivates,l=void 0!==o&&o,s=Object(i.i)(null),d=Object(i.a)((function(){return r()}),[r]);Object(i.f)((function(){var e=document.location.href,n=new MutationObserver((function(t){var r;t.some((function(){return e!==document.location.href}))&&(null===(r=s.current)||void 0===r||r.deactivate(),n.disconnect())}));return s.current=Object(c.a)(t,{escapeDeactivates:!1,clickOutsideDeactivates:l,onDeactivate:d}),s.current.activate(),n.observe(document.querySelector("body"),{childList:!0}),function(){s.current.deactivate(),n.disconnect()}}),[l,t,d]);var f={escape:r};return Object(a.h)(a.Fragment,null,n,Object(a.h)(u.a,{shortcuts:f}))};s.defaultProps={selector:".crayons-modal",onDeactivate:function(){}},s.propTypes={selector:o.a.string,children:l.c.isRequired,onDeactivate:o.a.func}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var r=n(18),o=n(25);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){return Object(o.a)(l)},l=function(){var e,t=a(document.querySelectorAll("[data-repositioning-dropdown]"));try{for(t.s();!(e=t.n()).done;){var n=e.value;n.classList.remove("reverse");var o="block"===n.style.display;o||(n.style.opacity=0,n.style.display="block"),Object(r.a)({element:n})||n.classList.add("reverse"),o||(n.style.removeProperty("display"),n.style.removeProperty("opacity"))}}catch(i){t.e(i)}finally{t.f()}},u='button, [href], input:not([type="hidden"]), select, textarea, [tabindex="0"]',s=function(e){var t,n=e.triggerElementId,r=e.dropdownContentId,o=e.onClose,a=document.getElementById(r);a&&(null===(t=document.getElementById(n))||void 0===t||t.setAttribute("aria-expanded","false"),a.style.removeProperty("display"),null===o||void 0===o||o())},d=function(e){var t=e.triggerElementId,n=e.dropdownContentId,r=e.dropdownContentCloseButtonId,o=e.onClose,a=e.onOpen,i=document.getElementById(t),c=document.getElementById(n);if(i&&c){i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",n),i.setAttribute("aria-haspopup","true");var l,d=function(e){var r=e.key;if("Escape"===r)"true"===i.getAttribute("aria-expanded")&&(s({triggerElementId:t,dropdownContentId:n,onClose:p}),i.focus());else if("Tab"===r){(null===c||void 0===c?void 0:c.contains(document.activeElement))||s({triggerElementId:t,dropdownContentId:n,onClose:p})}},f=function(e){var r=e.target;r===i||c.contains(r)||i.contains(r)||(s({triggerElementId:t,dropdownContentId:n,onClose:p}),r.matches(u)||i.focus())},p=function(){null===o||void 0===o||o(),document.removeEventListener("keyup",d),document.removeEventListener("click",f)};if(i.addEventListener("click",(function(){var e;"true"===(null===(e=document.getElementById(t))||void 0===e?void 0:e.getAttribute("aria-expanded"))?s({triggerElementId:t,dropdownContentId:n,onClose:p}):(!function(e){var t,n=e.triggerElementId,r=e.dropdownContentId,o=document.getElementById(r);document.getElementById(n).setAttribute("aria-expanded","true"),o.style.display="block",null===(t=o.querySelector(u))||void 0===t||t.focus()}({triggerElementId:t,dropdownContentId:n}),null===a||void 0===a||a(),document.addEventListener("keyup",d),document.addEventListener("click",f))})),r)null===(l=document.getElementById(r))||void 0===l||l.addEventListener("click",(function(){var e;s({triggerElementId:t,dropdownContentId:n,onClose:p}),null===(e=document.getElementById(t))||void 0===e||e.focus()}));return{closeDropdown:function(){s({triggerElementId:t,dropdownContentId:n,onClose:p})}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(35),o=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.time,r=void 0===n?300:n,a=t.config,c=void 0===a?{leading:!1}:a,l=i({},c);return o()(e,r,l)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var r=n(16),o=["previewShowing","helpShowing","previewResponse","helpHTML","imageManagementShowing","moreConfigShowing","errors"];function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function l(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function u(e,t,n){fetch("/articles/preview",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},body:JSON.stringify({article_body:e}),credentials:"same-origin"}).then(function(){var e,t=(e=function*(e){var t=yield e.json();if(200!==e.status)throw t;return t},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,c,"next",e)}function c(e){l(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()).then(t).catch(n)}function s(e){e.previewShowing,e.helpShowing,e.previewResponse,e.helpHTML,e.imageManagementShowing,e.moreConfigShowing,e.errors;return c(e,o)}function d(e){var t=e.payload,n=e.onSuccess,r=e.onError,o=t.id?"PUT":"POST",a=t.id?"/articles/".concat(t.id):"/articles";fetch(a,{method:o,headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},body:JSON.stringify({article:s(t)}),credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){e.current_state_path?(n(),window.location.replace(e.current_state_path)):r(e)})).catch(r)}function f(e){var t=window.csrfToken,n=new FormData;return n.append("authenticity_token",t),Object.entries(e.image).forEach((function(e){var t=a(e,2),r=(t[0],t[1]);return n.append("image[]",r)})),n}function p(e){var t=e.payload,n=e.successCb,r=e.failureCb,o=e.signal;fetch("/image_uploads",{method:"POST",headers:{"X-CSRF-Token":window.csrfToken},body:f(t),credentials:"same-origin",signal:o}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error);var r=e.links,o=t.image;return n({links:r,image:o})})).catch(r)}function h(e,t,n){e.length>0&&Object(r.validateFileInputs)()&&p({payload:{image:e},successCb:t,failureCb:n})}},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"Modal",(function(){return d}));var r=n(0),o=n(1),a=n.n(o),i=n(23),c=n(5),l=n(3);function u(e){var t=e.size,n=e.className,r="";return t&&t.length>0&&"default"!==t&&(r+=" crayons-modal--".concat(t)),n&&n.length>0&&(r+=" ".concat(n)),r}var s=function(){return Object(r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"crayons-icon",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"714d29e78a3867c79b07f310e075e824"},Object(r.h)("title",{id:"714d29e78a3867c79b07f310e075e824"},"Close"),Object(r.h)("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z"}))},d=function(e){var t=e.children,n=e.size,o=e.className,a=e.title,c=e.overlay,d=void 0===c||c,f=e.onClose,p=void 0===f?function(){}:f,h=e.closeOnClickOutside,b=void 0!==h&&h,m=e.focusTrapSelector,v=void 0===m?".crayons-modal":m;return Object(r.h)(i.a,{onDeactivate:p,clickOutsideDeactivates:b,selector:v},Object(r.h)("div",{"data-testid":"modal-container",className:"crayons-modal".concat(u({size:n,className:o}))},Object(r.h)("div",{role:"dialog","aria-modal":"true","aria-label":"modal",className:"crayons-modal__box"},a&&Object(r.h)("div",{className:"crayons-modal__box__header"},Object(r.h)("h2",null,a),Object(r.h)(l.a,{icon:s,variant:"ghost",contentType:"icon","aria-label":"Close",onClick:p})),Object(r.h)("div",{className:"crayons-modal__box__body"},t)),d&&Object(r.h)("div",{"data-testid":"modal-overlay",className:"crayons-modal__overlay ".concat(b?"background-clickable":"")})))};d.displayName="Modal",d.defaultProps={size:"default"},d.propTypes={children:c.c.isRequired,className:a.a.string,title:a.a.string.isRequired,overlay:a.a.bool,onClose:a.a.func,size:a.a.oneOf(["default","s","m"]).isRequired,focusTrapSelector:a.a.string}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),o=function(){return Object(r.h)("svg",{className:"crayons-icon crayons-spinner",width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M18.364 5.636L16.95 7.05A7 7 0 1019 12h2a9 9 0 11-2.636-6.364z",fill:"currentColor"}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return w}));var r=n(0),o=n(1),a=n.n(o),i=n(22);function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var y=[];function O(e){Array.isArray(e.actions)||(e.actions=[]),y.push(e)}var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,o,a=m(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={snacks:[]},e.pollingId=void 0,e.paused=!1,e.pauseLifespan=void 0,e.resumeLifespan=void 0,e}return t=c,(n=[{key:"componentDidMount",value:function(){this.initializePolling()}},{key:"componentDidUpdate",value:function(){var e=this;this.pauseLifespan||(this.pauseLifespan=function(t){e.paused=!0},this.resumeLifespan=function(t){t.stopPropagation(),e.paused=!1},this.element.addEventListener("mouseover",this.pauseLifespan),this.element.addEventListener("mouseout",this.resumeLifespan,!0))}},{key:"componentWillUnmount",value:function(){this.element&&(this.element.removeEventListener("mouseover",this.pauseLifespan),this.element.addEventListener("mouseout",this.resumeLifespan))}},{key:"initializePolling",value:function(){var e=this,t=this.props,n=t.pollingTime,r=t.lifespan;this.pollingId=setInterval((function(){if(y.length>0){var t=y.map((function(e){return d(d({},e),{},{lifespan:r})}));y=[],e.updateSnackbarItems(t),t.forEach((function(t){t.lifespanTimeoutId=setTimeout((function(){e.decreaseLifespan(t)}),1e3),t.addCloseButton&&t.actions.push({text:"Dismiss",handler:function(){e.setState((function(e){return{prevState:e,snacks:e.snacks.filter((function(e){return e!==t}))}}))}})}))}}),n)}},{key:"updateSnackbarItems",value:function(e){this.setState((function(t){var n=[].concat(l(t.snacks),l(e));return n.length>3&&(n.slice(0,n.length-3).forEach((function(e){var t=e.lifespanTimeoutId;clearTimeout(t)})),n=n.slice(n.length-3)),d(d({},t),{},{snacks:n})}))}},{key:"decreaseLifespan",value:function(e){var t=this;if(!this.paused&&0===e.lifespan)return clearTimeout(e.lifespanTimeoutId),void this.setState((function(t){var n=t.snacks.filter((function(t){return t!==e}));return d(d({},t),{},{snacks:n})}));this.paused||(e.lifespan-=1),e.lifespanTimeoutId=setTimeout((function(){t.decreaseLifespan(e)}),1e3)}},{key:"render",value:function(){var e=this,t=this.state.snacks;return Object(r.h)("div",{className:t.length>0?"crayons-snackbar":"hidden",ref:function(t){e.element=t}},t.map((function(e,t){var n=e.message,o=e.actions,a=void 0===o?[]:o;return Object(r.h)(i.a,{message:n,actions:a,key:t})})))}}])&&h(t.prototype,n),o&&h(t,o),c}(r.Component);w.defaultProps={lifespan:5,pollingTime:300},w.displayName="Snackbar",w.propTypes={lifespan:a.a.number,pollingTime:a.a.number}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(0),o=n(2),a=n(34),i=n(6),c=function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{"clip-rule":"evenodd",d:"m12 17c1.1046 0 2 .8954 2 2s-.8954 2-2 2-2-.8954-2-2 .8954-2 2-2zm0-7c1.1046 0 2 .8954 2 2s-.8954 2-2 2-2-.8954-2-2 .8954-2 2-2zm2-5c0-1.10457-.8954-2-2-2s-2 .89543-2 2 .8954 2 2 2 2-.89543 2-2z","fill-rule":"evenodd"}))},l=function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m12 22c-5.523 0-10-4.477-10-10s4.477-10 10-10 10 4.477 10 10-4.477 10-10 10zm0-2c2.1217 0 4.1566-.8429 5.6569-2.3431 1.5002-1.5003 2.3431-3.5352 2.3431-5.6569 0-2.12173-.8429-4.15656-2.3431-5.65685-1.5003-1.5003-3.5352-2.34315-5.6569-2.34315-2.12173 0-4.15656.84285-5.65685 2.34315-1.5003 1.50029-2.34315 3.53512-2.34315 5.65685 0 2.1217.84285 4.1566 2.34315 5.6569 1.50029 1.5002 3.53512 2.3431 5.65685 2.3431zm-1-5h2v2h-2zm2-1.645v.645h-2v-1.5c0-.2652.1054-.5196.2929-.7071s.4419-.2929.7071-.2929c.2841 0 .5623-.0807.8023-.2327.24-.1519.432-.3689.5535-.6257s.1676-.5428.1329-.82476c-.0347-.28195-.1487-.54826-.3289-.76793-.1801-.21967-.4189-.38368-.6886-.47294s-.5592-.1001-.8348-.03126c-.2756.06883-.526.21452-.722.42011-.1961.20558-.3297.46261-.3854.74118l-1.962-.393c.12163-.60792.40251-1.17263.81392-1.63641.41141-.46379.93858-.81001 1.52768-1.00327s1.2189-.22663 1.8251-.09671c.6062.12993 1.167.4185 1.6251.83621.4581.41772.7971.94959.9823 1.54124.1852.59166.21 1.22184.0718 1.82624s-.4344 1.1612-.8584 1.6136c-.4239.4523-.9604.784-1.5545.9611z"}))},u=/^\d+\.\s+.*/,s=/^\[([\w\s\d]*)\]\((url|(https?:\/\/[\w\d./?=#]+))\)$/,d="url",f=function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value,o=Object(i.f)({selectionStart:t,value:r}),a=Object(i.e)({selectionEnd:n,value:r}),c=0===t?0:2-o;return{newLinesPrefix:String.prototype.padStart(c,"\n"),newLinesSuffix:a>=1?"":"\n"}},p=function(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd,o=e.prefix,a=e.suffix,c=o.length,l=a.length,u=Object(i.g)({selectionStart:n,selectionEnd:r,value:t}),s=u.selectedText,d=u.textBeforeSelection,f=u.textAfterSelection;return s.slice(0,c)===o&&s.slice(-1*l)===a?{editSelectionStart:n,editSelectionEnd:r,replaceSelectionWith:s.slice(c,-1*l),newCursorStart:n,newCursorEnd:r-(c+l)}:d.substring(d.length-c)===o&&f.substring(0,l)===a?{editSelectionStart:n-c,editSelectionEnd:r+l,replaceSelectionWith:s,newCursorStart:n-c,newCursorEnd:r-c}:{editSelectionStart:n,editSelectionEnd:r,replaceSelectionWith:"".concat(o).concat(s).concat(a),newCursorStart:n+c,newCursorEnd:r+c}},h=function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value,o=e.linePrefix,a=e.blockPrefix,c=e.blockSuffix,l=Object(i.g)({selectionStart:t,selectionEnd:n,value:r}),u=l.selectedText,s=l.textBeforeSelection,d=l.textAfterSelection,p=u;if(o){var h=o.length;if(""===u){var b=""===s?-1:Object(i.b)({content:r,selectionIndex:t-1,character:"\n"}),m=-1===b?0:b+1;if(s.slice(m,m+h)===o)return{editSelectionStart:m,editSelectionEnd:m+h,replaceSelectionWith:"",newCursorStart:t-h,newCursorEnd:n-h}}var v=u.split("\n").filter((function(e){return""!==e}));if(v.length>0&&v.every((function(e){return e.slice(0,h)===o}))){var g=v.map((function(e){return e.slice(h)})).join("\n");return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:g,newCursorStart:t,newCursorEnd:n+(g.length-u.length)}}p=""===u?o:v.map((function(e){return"".concat(o).concat(e)})).join("\n")}else{var y=a.length,O=c.length;if(u.slice(0,y)===a&&u.slice(-1*O)===c)return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:u.slice(y,-1*O),newCursorStart:t,newCursorEnd:n-y-O};if(s.slice(-1*y)===a&&d.slice(0,O)===c)return{editSelectionStart:t-y,editSelectionEnd:n+O,replaceSelectionWith:u,newCursorStart:t-y,newCursorEnd:n-y}}var w=f({selectionStart:t,selectionEnd:n,value:r}),S=w.newLinesPrefix,j=w.newLinesSuffix,x=S.length,E=t+x,C=a?a.length:0,k=""===u&&o?o.length:0;return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:"".concat(S).concat(a||"").concat(p).concat(c||"").concat(j),newCursorStart:E+C+k,newCursorEnd:n+p.length-u.length+x+((null===a||void 0===a?void 0:a.length)||0)}},b={bold:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m8 11h4.5c.663 0 1.2989-.2634 1.7678-.7322.4688-.46887.7322-1.10476.7322-1.7678s-.2634-1.29893-.7322-1.76777c-.4689-.46884-1.1048-.73223-1.7678-.73223h-4.5zm10 4.5c0 .5909-.1164 1.1761-.3425 1.7221-.2262.5459-.5577 1.042-.9755 1.4599-.4179.4178-.914.7493-1.4599.9755-.546.2261-1.1312.3425-1.7221.3425h-7.5v-16h6.5c.881.00004 1.7425.25865 2.4779.74378.7353.48512 1.3121 1.17542 1.6588 1.98529s.448 1.70369.2915 2.57062c-.1566.86691-.5641 1.66881-1.1722 2.30631.6826.3953 1.2493.9632 1.6432 1.6466.3939.6835.6011 1.4586.6008 2.2474zm-10-2.5v5h5.5c.663 0 1.2989-.2634 1.7678-.7322.4688-.4689.7322-1.1048.7322-1.7678s-.2634-1.2989-.7322-1.7678c-.4689-.4688-1.1048-.7322-1.7678-.7322z"}))},label:"Bold",getKeyboardShortcut:function(){var e=Runtime.getOSKeyboardModifierKeyString();return{command:"".concat(e,"+b"),tooltipHint:"".concat(e.toUpperCase()," + B")}},getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return p({selectionStart:t,selectionEnd:n,value:r,prefix:"**",suffix:"**"})}},italic:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"M15 20H7V18H9.927L12.043 6H9V4H17V6H14.073L11.957 18H15V20Z",fill:"black"}))},label:"Italic",getKeyboardShortcut:function(){var e=Runtime.getOSKeyboardModifierKeyString();return{command:"".concat(e,"+i"),tooltipHint:"".concat(e.toUpperCase()," + I")}},getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return p({selectionStart:t,selectionEnd:n,value:r,prefix:"_",suffix:"_"})}},link:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m18.364 15.536-1.414-1.416 1.414-1.414c.4676-.4636.8391-1.0149 1.0931-1.6224.2539-.6075.3854-1.2592.3869-1.91765.0014-.65845-.1272-1.3107-.3785-1.9193-.2513-.60861-.6204-1.16158-1.086-1.62718s-1.0186-.83464-1.6272-1.08596c-.6086-.25131-1.2608-.37994-1.9193-.37849-.6584.00144-1.3101.13292-1.9176.3869-.6075.25397-1.1589.62544-1.6224 1.09307l-1.414 1.415-1.415-1.414 1.416-1.414c1.3128-1.31282 3.0934-2.05036 4.95-2.05036s3.6372.73754 4.95 2.05036 2.0504 3.09339 2.0504 4.95-.7376 3.63721-2.0504 4.95001l-1.415 1.414zm-2.828 2.828-1.415 1.414c-1.3128 1.3128-3.0934 2.0503-4.95 2.0503-1.85661 0-3.63718-.7375-4.95-2.0503-1.31283-1.3128-2.05036-3.0934-2.05036-4.95s.73753-3.6372 2.05036-4.95001l1.415-1.414 1.414 1.416-1.414 1.41401c-.46763.4635-.8391 1.0149-1.09308 1.6224-.25397.6075-.38545 1.2592-.3869 1.9176-.00144.6585.12719 1.3107.3785 1.9193s.62036 1.1616 1.08596 1.6272c.46559.4656 1.01857.8347 1.62717 1.086.60861.2513 1.26086.3799 1.91931.3785.65845-.0015 1.31014-.133 1.91764-.3869.6075-.254 1.1588-.6255 1.6224-1.0931l1.414-1.414 1.415 1.414zm-.708-10.60701 1.415 1.415-7.071 7.07001-1.415-1.414 7.071-7.07001z"}))},label:"Link",getKeyboardShortcut:function(){var e=Runtime.getOSKeyboardModifierKeyString();return{command:"".concat(e,"+k"),tooltipHint:"".concat(e.toUpperCase()," + K")}},getFormatting:function(e){var t,n=e.selectionStart,r=e.selectionEnd,o=e.value,a=Object(i.g)({selectionStart:n,selectionEnd:r,value:o}),c=a.selectedText,l=a.textBeforeSelection,u=a.textAfterSelection;return""===c?function(e){var t=e.textBeforeSelection,n=e.textAfterSelection,r=e.value,o=e.selectionStart,a=e.selectionEnd,c={editSelectionStart:o,editSelectionEnd:a,replaceSelectionWith:"[](".concat(d,")"),newCursorStart:o+3,newCursorEnd:a+6};if("["!==t.slice(-1)||"]("!==n.slice(0,2))return c;var l=Object(i.d)({content:r,selectionIndex:o,character:")",breakOnCharacters:[" ","\n"]});if(-1===l)return c;var u=r.slice(a+2,l);return{editSelectionStart:o-1,editSelectionEnd:l+1,replaceSelectionWith:u===d?"":u,newCursorStart:o-1,newCursorEnd:a-1}}({textBeforeSelection:l,textAfterSelection:u,value:o,selectionStart:n,selectionEnd:r}):"https://"===(t=c.substring(0,8))||t.startsWith("http://")||c===d?function(e){var t=e.textBeforeSelection,n=e.textAfterSelection,r=e.value,o=e.selectionStart,a=e.selectionEnd,c=e.selectedText,l={editSelectionStart:o,editSelectionEnd:a,replaceSelectionWith:"[](".concat(c,")"),newCursorStart:o+1,newCursorEnd:o+1};if("]("!==t.slice(-2)||")"!==n.slice(0,1))return l;var u=Object(i.b)({content:r,selectionIndex:o,character:"["});if(-1===u)return l;var s=t.slice(u+1,-2);return""===s&&(s=c===d?"":c),{editSelectionStart:u,editSelectionEnd:a+1,replaceSelectionWith:s,newCursorStart:u,newCursorEnd:u+s.length}}({textBeforeSelection:l,textAfterSelection:u,value:o,selectionStart:n,selectedText:c,selectionEnd:r}):c.match(s)?function(e){var t=e.selectedText,n=e.selectionStart,r=e.selectionEnd,o=Object(i.d)({content:t,selectionIndex:0,character:"]"}),a=t.slice(1,o);if(""===a){var c=t.slice(o+2,-1);a=c===d?"":c}return{editSelectionStart:n,editSelectionEnd:r,replaceSelectionWith:a,newCursorStart:n,newCursorEnd:n+a.length}}({selectedText:c,selectionStart:n,selectionEnd:r,textBeforeSelection:l,textAfterSelection:u}):{editSelectionStart:n,editSelectionEnd:r,replaceSelectionWith:"[".concat(c,"](").concat(d,")"),newCursorStart:n+c.length+3,newCursorEnd:r+6}}},orderedList:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m8 4h13v2h-13zm-3-1v3h1v1h-3v-1h1v-2h-1v-1zm-2 11v-2.5h2v-.5h-2v-1h3v2.5h-2v.5h2v1zm2 5.5h-2v-1h2v-.5h-2v-1h3v4h-3v-1h2zm3-8.5h13v2h-13zm0 7h13v2h-13z"}))},label:"Ordered list",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value,o=Object(i.g)({selectionStart:t,selectionEnd:n,value:r}),a=o.selectedText,c=o.textBeforeSelection,l=f({selectionStart:t,selectionEnd:n,value:r}),s=l.newLinesPrefix,d=l.newLinesSuffix,p=s.length,h=d.length;if(""===a){var b=""===c?-1:Object(i.b)({content:r,selectionIndex:t-1,character:"\n"}),m=-1===b?0:b+1;if("1. "===c.slice(m,m+3))return{editSelectionStart:m,editSelectionEnd:m+3,replaceSelectionWith:"",newCursorStart:t-3,newCursorEnd:n-3}}if(""===a)return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:"".concat(s,"1. ").concat(d),newCursorStart:t+3+p,newCursorEnd:n+3+p};var v=a.split("\n");if(v.every((function(e){return e.match(u)||""===e}))){var g=v.filter((function(e){return""!==e})).map((function(e){var t=e.indexOf(".");return e.substring(t+2)})).join("\n");return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:g,newCursorStart:t+a.indexOf(".")-1,newCursorEnd:n+g.length-a.length}}var y="".concat(s).concat(v.map((function(e,t){return"".concat(t+1,". ").concat(e)})).join("\n")).concat(d);return{editSelectionStart:t,editSelectionEnd:n,replaceSelectionWith:y,newCursorStart:t+(0===a.length?4:p),newCursorEnd:t+y.length-h}}},unorderedList:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m8 4h13v2h-13zm-3.5 2.5c-.39782 0-.77936-.15804-1.06066-.43934s-.43934-.66284-.43934-1.06066.15804-.77936.43934-1.06066.66284-.43934 1.06066-.43934.77936.15804 1.06066.43934.43934.66284.43934 1.06066-.15804.77936-.43934 1.06066-.66284.43934-1.06066.43934zm0 7c-.39782 0-.77936-.158-1.06066-.4393s-.43934-.6629-.43934-1.0607.15804-.7794.43934-1.0607.66284-.4393 1.06066-.4393.77936.158 1.06066.4393.43934.6629.43934 1.0607-.15804.7794-.43934 1.0607-.66284.4393-1.06066.4393zm0 6.9c-.39782 0-.77936-.158-1.06066-.4393s-.43934-.6629-.43934-1.0607.15804-.7794.43934-1.0607.66284-.4393 1.06066-.4393.77936.158 1.06066.4393.43934.6629.43934 1.0607-.15804.7794-.43934 1.0607-.66284.4393-1.06066.4393zm3.5-9.4h13v2h-13zm0 7h13v2h-13z"}))},label:"Unordered list",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return h({selectionStart:t,selectionEnd:n,value:r,linePrefix:"- "})}},heading:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m17 11v-7h2v17h-2v-8h-10v8h-2v-17h2v7z"}))},label:"Heading",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value,o=t;if(t>0){var a=Object(i.b)({content:r,selectionIndex:t-1,character:"\n"}),c=-1===a?0:a+1;"#"===r.charAt(c)&&(o=c)}for(var l=Object(i.g)({selectionStart:o,selectionEnd:n,value:r}).selectedText,u=0;"#"===l.charAt(u);)u++;if(u>=4)return{editSelectionStart:o,editSelectionEnd:n,replaceSelectionWith:l.substring(5),newCursorStart:t-5,newCursorEnd:n-5};var s=f({selectionStart:t,selectionEnd:n,value:r}),d=s.newLinesPrefix,p=s.newLinesSuffix,h=d.length,b=u>0,m=b?1:3+h;return{editSelectionStart:b?o:t,editSelectionEnd:n,replaceSelectionWith:b?"#".concat(l):"".concat(d,"## ").concat(l).concat(p),newCursorStart:t+m,newCursorEnd:n+m}}},quote:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m4.583 17.321c-1.03-1.094-1.583-2.321-1.583-4.31 0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489 0 .9283-.3687 1.8185-1.02513 2.4749-.65637.6563-1.54661 1.0251-2.47487 1.0251-1.073 0-2.099-.49-2.748-1.179zm10 0c-1.03-1.094-1.583-2.321-1.583-4.31 0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489 0 .9283-.3687 1.8185-1.0251 2.4749-.6564.6563-1.5466 1.0251-2.4749 1.0251-1.073 0-2.099-.49-2.748-1.179z"}))},label:"Quote",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return h({selectionStart:t,selectionEnd:n,value:r,linePrefix:"> "})}},code:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m23 12-7.071 7.071-1.414-1.414 5.657-5.657-5.657-5.65704 1.414-1.414zm-19.172 0 5.657 5.657-1.414 1.414-7.071-7.071 7.071-7.07104 1.414 1.414z"}))},label:"Code",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return p({selectionStart:t,selectionEnd:n,value:r,prefix:"`",suffix:"`"})}},codeBlock:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m3 3h18c.2652 0 .5196.10536.7071.29289.1875.18754.2929.44189.2929.70711v16c0 .2652-.1054.5196-.2929.7071s-.4419.2929-.7071.2929h-18c-.26522 0-.51957-.1054-.70711-.2929-.18753-.1875-.29289-.4419-.29289-.7071v-16c0-.26522.10536-.51957.29289-.70711.18754-.18753.44189-.29289.70711-.29289zm1 2v14h16v-14zm15 7-3.536 3.536-1.414-1.415 2.122-2.121-2.122-2.121 1.414-1.415zm-11.172 0 2.122 2.121-1.414 1.415-3.536-3.536 3.536-3.536 1.414 1.416z"}))},label:"Code block",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return h({selectionStart:t,selectionEnd:n,value:r,blockPrefix:"```\n",blockSuffix:"\n```"})}}},m={underline:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m8 3v9c0 1.0609.42143 2.0783 1.17157 2.8284.75015.7502 1.76753 1.1716 2.82843 1.1716s2.0783-.4214 2.8284-1.1716c.7502-.7501 1.1716-1.7675 1.1716-2.8284v-9h2v9c0 1.5913-.6321 3.1174-1.7574 4.2426-1.1252 1.1253-2.6513 1.7574-4.2426 1.7574s-3.11742-.6321-4.24264-1.7574c-1.12522-1.1252-1.75736-2.6513-1.75736-4.2426v-9zm-4 17h16v2h-16z"}))},label:"Underline",getKeyboardShortcut:function(){var e=Runtime.getOSKeyboardModifierKeyString();return{command:"".concat(e,"+u"),tooltipHint:"".concat(e.toUpperCase()," + U")}},getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return p({selectionStart:t,selectionEnd:n,value:r,prefix:"<u>",suffix:"</u>"})}},strikethrough:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("path",{d:"m17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147-1.049.755-2.496 1.133-4.343 1.133-1.64 0-3.263-.381-4.87-1.144v-2.256c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197.0053-.297-.0494-.5921-.1607-.8675-.1114-.2754-.2771-.5256-.4873-.7355l-.12-.117h-11.453v-2h18v2h-3.846zm-4.078-3h-5.447c-.17517-.1597-.33611-.3344-.481-.522-.432-.558-.648-1.232-.648-2.026 0-1.236.466-2.287 1.397-3.153.933-.866 2.374-1.299 4.325-1.299 1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099s.974.562 1.613.75c.62.18 1.297.414 2.03.699z"}))},label:"Strikethrough",getKeyboardShortcut:function(){var e=Runtime.getOSKeyboardModifierKeyString();return{command:"".concat(e,"+shift+x"),tooltipHint:"".concat(e.toUpperCase()," + SHIFT + X")}},getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return p({selectionStart:t,selectionEnd:n,value:r,prefix:"~~",suffix:"~~"})}},divider:{icon:function(){return Object(r.h)("svg",{className:"crayons-icon",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Object(r.h)("g",null,Object(r.h)("path",{d:"m2 11h6v2h-6z"}),Object(r.h)("path",{d:"m2 11h6v2h-6z"}),Object(r.h)("path",{d:"m9 11h6v2h-6z"}),Object(r.h)("path",{d:"m16 11h6v2h-6z"}),Object(r.h)("g",{"clip-rule":"evenodd","fill-rule":"evenodd"},Object(r.h)("path",{d:"m12 6.58574-2.29288-2.29289-1.41421 1.41421 3.70709 3.70711 3.7071-3.70711-1.4142-1.41421z"}),Object(r.h)("path",{d:"m12 17.4143-2.29288 2.2929-1.41421-1.4143 3.70709-3.7071 3.7071 3.7071-1.4142 1.4143z"}))))},label:"Line divider",getFormatting:function(e){var t=e.selectionStart,n=e.selectionEnd,r=e.value;return h({selectionStart:t,selectionEnd:n,value:r,blockPrefix:"---\n",blockSuffix:""})}}},v=n(3),g=n(10),y=n(19);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E="![Uploading image](...)",C=function(e){var t=e.textAreaId,n=j(Object(o.j)(null),2),u=n[0],s=n[1],d=j(Object(o.j)(!1),2),f=d[0],p=d[1],h=j(Object(o.j)({}),2),O=h[0],S=h[1],x=Object(y.b)("(max-width: ".concat(y.a.Medium-1,"px)")),C=w(w({},b),m),k=Object.fromEntries(Object.keys(C).filter((function(e){return!!C[e].getKeyboardShortcut})).map((function(e){var t,n;return[(null===(t=(n=C[e]).getKeyboardShortcut)||void 0===t?void 0:t.call(n)).command,function(t){t.preventDefault(),N(e)}]})));Object(o.f)((function(){s(document.getElementById(t))}),[t]),Object(o.f)((function(){document.querySelector('.toolbar-btn[tabindex="0"]')||document.querySelector(".toolbar-btn").setAttribute("tabindex","0")}),[x]),Object(o.f)((function(){var e=function(e){"overflow-menu-button"!==e.target.id&&p(!1)},t=function(e){var t=e.key;"Escape"===t&&(p(!1),document.getElementById("overflow-menu-button").focus()),"Tab"===t&&p(!1)};return f?(document.getElementById("overflow-menu").getElementsByClassName("overflow-menu-btn")[0].focus(),document.addEventListener("keyup",t),document.addEventListener("click",e)):(document.removeEventListener("keyup",t),document.removeEventListener("click",e)),function(){document.removeEventListener("keyup",t),document.removeEventListener("click",e)}}),[f]);var I=function(e,t){var n=e.key,r=e.target,o=function(e,t){for(var n=e.nextElementSibling;n;){if(n.matches(t))return n;n=n.nextElementSibling}}(r,".".concat(t)),a=function(e,t){for(var n=e.previousElementSibling;n;){if(n.matches(t))return n;n=n.previousElementSibling}}(r,".".concat(t));switch(n){case"ArrowRight":if(e.preventDefault(),r.setAttribute("tabindex","-1"),o)o.setAttribute("tabindex",0),o.focus();else{var i=document.querySelector(".".concat(t));i.setAttribute("tabindex","0"),i.focus()}break;case"ArrowLeft":if(e.preventDefault(),r.setAttribute("tabindex","-1"),a)a.setAttribute("tabindex",0),a.focus();else{var c=document.getElementsByClassName(t),l=c[c.length-1];l.setAttribute("tabindex","0"),l.focus()}break;case"ArrowDown":"overflow-menu-button"===r.id&&(e.preventDefault(),p(!0))}},N=function(e){p(!1);var t=C[e].getFormatting(u),n=t.newCursorStart,r=t.newCursorEnd,o=t.editSelectionStart,a=t.editSelectionEnd,i=t.replaceSelectionWith;u.contentEditable="true",u.focus({preventScroll:!0}),u.setSelectionRange(o,a);try{""===i?document.execCommand("delete",!1):document.execCommand("insertText",!1,i)}catch(c){u.value=function(e){var t=e.textAreaValue,n=e.editSelectionStart,r=e.editSelectionEnd,o=e.replaceSelectionWith;return"".concat(t.substring(0,n)).concat(o).concat(t.substring(r))}({textAreaValue:u.value,editSelectionStart:o,editSelectionEnd:a,replaceSelectionWith:i})}u.contentEditable="false",u.dispatchEvent(new Event("input")),u.setSelectionRange(n,r)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=u.selectionStart,n=u.selectionEnd,r=u.value,o=r.indexOf(E);if(-1!==o){var a=u.value.replace(E,e);if(u.value=a,u.dispatchEvent(new Event("input")),o>t)u.setSelectionRange(t,n);else{var i=e.length-E.length;u.setSelectionRange(t+i,n+i)}}},P=function(e){return Object.keys(m).map((function(t,n){var o=m[t],a=o.icon,i=o.label,c=o.getKeyboardShortcut;return Object(r.h)(v.a,{key:"".concat(t,"-btn"),role:e?"menuitem":"button",variant:"ghost",contentType:"icon",icon:a,className:e?"overflow-menu-btn hidden m:block mr-2":"toolbar-btn m:hidden mr-2",tabindex:e&&0===n?"0":"-1",onClick:function(){return N(t)},onKeyUp:function(t){return I(t,e?"overflow-menu-btn":"toolbar-btn")},"aria-label":i,tooltip:x?null:Object(r.h)("span",{"aria-hidden":"true"},i,c?Object(r.h)("span",{className:"opacity-75"}," ".concat(c().tooltipHint)):null)})}))};return Object(r.h)("div",{className:"editor-toolbar relative","aria-label":"Markdown formatting toolbar",role:"toolbar","aria-controls":t},Object.keys(b).map((function(e,t){var n=b[e],o=n.icon,a=n.label,i=n.getKeyboardShortcut;return Object(r.h)(v.a,{key:"".concat(e,"-btn"),variant:"ghost",contentType:"icon",icon:o,className:"toolbar-btn mr-1",tabindex:0===t?"0":"-1",onClick:function(){return N(e)},onKeyUp:function(e){return I(e,"toolbar-btn")},"aria-label":a,tooltip:x?null:Object(r.h)("span",{"aria-hidden":"true"},a,i?Object(r.h)("span",{className:"opacity-75"}," ".concat(i().tooltipHint)):null)})})),Object(r.h)(a.a,{editorVersion:"v2",onImageUploadStart:function(){var e=Object(i.g)(u),t=e.textBeforeSelection,n=e.textAfterSelection,r=O.selectionEnd,o="".concat(t,"\n").concat(E).concat(n);u.value=o,u.dispatchEvent(new Event("input")),u.focus({preventScroll:!0});var a=r+E.length+1;u.setSelectionRange(a,a)},onImageUploadSuccess:A,onImageUploadError:A,buttonProps:{onKeyUp:function(e){return I(e,"toolbar-btn")},onClick:function(){var e=u.selectionStart,t=u.selectionEnd;S({selectionStart:e,selectionEnd:t})},tooltip:x?null:Object(r.h)("span",{"aria-hidden":"true"},"Upload image"),key:"image-btn",variant:"ghost",contentType:"icon",className:"toolbar-btn formatter-btn",tabindex:"-1"}}),x?P(!1):null,x?null:Object(r.h)(v.a,{id:"overflow-menu-button",onClick:function(){return p(!f)},onKeyUp:function(e){return I(e,"toolbar-btn")},"aria-expanded":f?"true":"false","aria-haspopup":"true",variant:"ghost",contentType:"icon",icon:c,className:"toolbar-btn ml-auto hidden m:block",tabindex:"-1","aria-label":"More options"}),f&&Object(r.h)("div",{id:"overflow-menu",role:"menu",className:"crayons-dropdown flex p-2 min-w-unset right-0 top-100"},P(!0),Object(r.h)(v.a,{tagName:"a",role:"menuitem",url:"/p/editor_guide",target:"_blank",rel:"noopener noreferrer",variant:"ghost",contentType:"icon",icon:l,className:"overflow-menu-btn",tabindex:"-1","aria-label":"Help",onKeyUp:function(e){return I(e,"overflow-menu-btn")}})),u&&Object(r.h)(g.a,{shortcuts:k,eventTarget:u}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(0),o=n(2),a=n(26),i=n(16),c=n(9),l=n(1),u=n.n(l),s=n(3);var d=function(){return Object(r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"crayons-icon",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-labelledby":"fc5f15add1e114844f5e"},Object(r.h)("title",{id:"fc5f15add1e114844f5e"},"Copy Markdown for image"),Object(r.h)("path",{d:"M7 6V3a1 1 0 011-1h12a1 1 0 011 1v14a1 1 0 01-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1 1 0 013 21l.003-14c0-.552.45-1 1.007-1H7zm2 0h8v10h2V4H9v2zm-2 5v2h6v-2H7zm0 4v2h6v-2H7z"}))};d.displayName="CopyIcon";var f=function(e){var t,n=e.onCopy,o=e.imageUrls,a=e.showCopyMessage,i=void 0!==a&&a;return Object(r.h)("clipboard-copy",{onClick:n,for:"image-markdown-copy-link-input","aria-live":"polite",className:"flex items-center flex-1","aria-controls":"image-markdown-copy-link-announcer"},Object(r.h)("input",{"data-testid":"markdown-copy-link",type:"text",className:"crayons-textfield mr-2",id:"image-markdown-copy-link-input",readOnly:"true",value:(t=o,t.map((function(e){return"![Image description](".concat(e,")")})).join("\n"))}),Object(r.h)(s.a,{className:"spec__image-markdown-copy whitespace-nowrap fw-normal",variant:"ghost",contentType:"icon-left",icon:d},i?"Copied!":"Copy..."))};function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}f.displayName="ClipboardButton",f.propTypes={onCopy:u.a.func.isRequired,imageUrls:u.a.arrayOf(u.a.string).isRequired,showCopyMessage:u.a.bool.isRequired};var y=function(){return Object(r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"crayons-icon",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true"},Object(r.h)("title",{id:"a17qec5pfhrwzk9w4kg0tp62v27qqu9t"},"Upload image"),Object(r.h)("path",{d:"M20 5H4v14l9.292-9.294a1 1 0 011.414 0L20 15.01V5zM2 3.993A1 1 0 012.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 01-.992.993H2.992A.993.993 0 012 20.007V3.993zM8 11a2 2 0 110-4 2 2 0 010 4z"}))},O=function(){return Object(r.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"crayons-icon cancel",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true"},Object(r.h)("title",{id:"as1mn15llu5e032u2pgzlc6yhvss2myk"},"Cancel"),Object(r.h)("path",{d:"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z"}))},w=function(){return Object(r.h)("span",{className:"spinner-or-cancel"},Object(r.h)(s.i,null),Object(r.h)(O,null))};function S(e,t){var n=t.type,r=t.payload;switch(n){case"uploading_image":return v(v({},e),{},{uploadErrorMessage:null,uploadingImage:!0,insertionImageUrls:[]});case"upload_error":return v(v({},e),{},{insertionImageUrls:[],uploadErrorMessage:r.errorMessage,uploadingImage:!1});case"upload_image_success":return v(v({},e),{},{insertionImageUrls:r.insertionImageUrls,uploadingImage:!1,uploadErrorMessage:null});default:return e}}function j(e){var t;e.preventDefault(),null===(t=window.ForemMobile)||void 0===t||t.injectNativeMessage("imageUpload",{action:"imageUpload"})}y.displayName="ImageIcon";var x=function(e){var t=e.uploadingImage;return Object(r.h)(r.Fragment,null,!t&&Object(r.h)(s.a,{"aria-label":"Upload an image",className:"mr-2 fw-normal",variant:"ghost",contentType:"icon-left",icon:y,onClick:j},"Upload image"))},E=function(e){var t=e.buttonProps,n=e.handleInsertionImageUpload,a=e.uploadingImage,i=e.useNativeUpload,l=e.handleNativeMessage,u=e.uploadErrorMessage;Object(o.d)((function(){u&&Object(c.addSnackbarItem)({message:u,addCloseButton:!0})}),[u]);var d=h(Object(o.j)(null),2),f=d[0],b=d[1],m=t.tooltip;return Object(r.h)(r.Fragment,null,i?Object(r.h)("input",{type:"hidden",id:"native-image-upload-message",value:"",onChange:l}):Object(r.h)("input",{type:"file",tabindex:"-1","aria-label":"Upload image",id:"image-upload-field",onChange:function(e){var t=new AbortController;b(t),n(e,t.signal)},className:"screen-reader-only",accept:"image/*","data-max-file-size-mb":"25"}),a?Object(r.h)(s.a,p({},t,{icon:w,onClick:function(){f.abort(),b(null)},"aria-label":"Cancel image upload",tooltip:"Cancel upload"})):Object(r.h)(s.a,p({},t,{icon:y,onClick:function(e){var n;null===(n=t.onClick)||void 0===n||n.call(t,e),i?j(e):document.getElementById("image-upload-field").click()},"aria-label":"Upload image",tooltip:m})))},C=function(e){var t=e.uploadingImage,n=e.useNativeUpload,a=e.handleNativeMessage,i=e.handleInsertionImageUpload,l=e.insertionImageUrls,u=e.uploadErrorMessage,d=h(Object(o.j)(!1),2),p=d[0],b=d[1];Object(o.d)((function(){t&&b(!1)}),[t]);return Object(r.h)("div",{className:"flex items-center"},t&&Object(r.h)("span",{class:"lh-base pl-3 border-0 py-2 inline-block"},Object(r.h)(s.i,null)," Uploading..."),n?Object(r.h)(x,{uploadingImage:t,handleNativeMessage:a}):t?null:Object(r.h)(r.Fragment,null,Object(r.h)("label",{className:"cursor-pointer crayons-btn crayons-btn--ghost"},Object(r.h)(y,null)," Upload image",Object(r.h)("input",{type:"file",id:"image-upload-field",onChange:i,className:"screen-reader-only",multiple:!0,accept:"image/*","data-max-file-size-mb":"25"}))),l.length>0&&Object(r.h)(f,{onCopy:function(){var e=document.getElementById("image-markdown-copy-link-input");Runtime.copyToClipboard(e.value).then((function(){b(!0)})).catch((function(e){Object(c.addSnackbarItem)({message:e,addCloseButton:!0}),Honeybadger.notify(e)}))},imageUrls:l,showCopyMessage:p}),u?Object(r.h)("span",{className:"color-accent-danger"},u):null)},k=function(e){var t=e.editorVersion,n=void 0===t?"v2":t,c=e.buttonProps,l=void 0===c?{}:c,u=e.onImageUploadStart,s=e.onImageUploadSuccess,d=e.onImageUploadError,f=h(Object(o.h)(S,{insertionImageUrls:[],uploadErrorMessage:null,uploadingImage:!1}),2),p=f[0],b=f[1],m=p.uploadingImage,v=p.uploadErrorMessage,g=p.insertionImageUrls;function y(e){null===d||void 0===d||d(),b({type:"upload_error",payload:{errorMessage:e.message}})}function O(e,t){var n=e.target.files;if(n.length>0&&Object(i.validateFileInputs)()){var r={image:n};b({type:"uploading_image"}),null===u||void 0===u||u(),Object(a.a)({payload:r,successCb:w,failureCb:y,signal:t})}}function w(e){b({type:"upload_image_success",payload:{insertionImageUrls:e.links}}),null===s||void 0===s||s("![Image description](".concat(e.links,")")),document.getElementById("upload-success-info").innerText="image upload complete"}function j(e){var t=JSON.parse(e.detail);if("imageUpload"===t.namespace)switch(t.action){case"uploading":null===u||void 0===u||u(),b({type:"uploading_image"});break;case"error":b({type:"upload_error",payload:{errorMessage:t.error}});break;case"success":null===s||void 0===s||s("![Image description](".concat(t.link,")")),b({type:"upload_image_success",payload:{insertionImageUrls:[t.link]}})}}var x=Runtime.isNativeIOS("imageUpload_disabled");return document.addEventListener("ForemMobile",j),Object(r.h)(r.Fragment,null,Object(r.h)("div",{id:"upload-success-info",className:"screen-reader-only"}),"v2"===n?Object(r.h)(E,{buttonProps:l,uploadingImage:m,handleInsertionImageUpload:O,useNativeUpload:x,handleNativeMessage:j,uploadErrorMessage:v}):Object(r.h)(C,{uploadingImage:m,useNativeUpload:x,handleNativeMessage:j,handleInsertionImageUpload:O,insertionImageUrls:g,uploadErrorMessage:v}))};k.displayName="ImageUploader"}]]);
//# sourceMappingURL=1-f232043eb878c8282625.chunk.js.map